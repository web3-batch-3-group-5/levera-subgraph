interface Pool @entity {
  id: Bytes!
  loanToken: Bytes! # address
  collateralToken: Bytes! # address
  loanTokenUsdDataFeed: Bytes! # address
  collateralTokenUsdDataFeed: Bytes! # address
  loanTokenName: String!
  collateralTokenName: String!
  loanTokenSymbol: String!
  collateralTokenSymbol: String!
  creator: Bytes! # address
  isActive: Boolean! # bool
}

type PoolParams implements Pool @entity(immutable: true) {
  id: Bytes!
  loanToken: Bytes! # address
  collateralToken: Bytes! # address
  loanTokenUsdDataFeed: Bytes! # address
  collateralTokenUsdDataFeed: Bytes! # address
  loanTokenName: String!
  collateralTokenName: String!
  loanTokenSymbol: String!
  collateralTokenSymbol: String!
  creator: Bytes! # address
  isActive: Boolean! # bool
}

type AllLendingPool implements Pool @entity(immutable: true) {
  id: Bytes!
  lendingPool: Bytes! # address
  loanToken: Bytes! # address
  collateralToken: Bytes! # address
  loanTokenUsdDataFeed: Bytes! # address
  collateralTokenUsdDataFeed: Bytes! # address
  loanTokenName: String!
  collateralTokenName: String!
  loanTokenSymbol: String!
  collateralTokenSymbol: String!
  creator: Bytes! # address
  isActive: Boolean! # bool
  blockNumber: BigInt!
  blockTimestamp: BigInt!
  transactionHash: Bytes!
}

type CreateLendingPool @entity(immutable: true) {
  id: Bytes!
  lendingPool: Bytes!
  loanToken: Bytes!
  collateralToken: Bytes!
  creator: Bytes!
  isActive: Boolean!
  blockNumber: BigInt!
  blockTimestamp: BigInt!
  transactionHash: Bytes!
}

type StoreLendingPool @entity(immutable: true) {
  id: Bytes!
  lendingPool: Bytes!
  loanToken: Bytes!
  collateralToken: Bytes!
  creator: Bytes!
  isActive: Boolean!
  blockNumber: BigInt!
  blockTimestamp: BigInt!
  transactionHash: Bytes!
}

type DiscardLendingPool @entity(immutable: true) {
  id: Bytes!
  lendingPool: Bytes!
  blockNumber: BigInt!
  blockTimestamp: BigInt!
  transactionHash: Bytes!
}

type UserSupplyShare @entity(immutable: true) {
  id: Bytes!
  lendingPool: Bytes! # address
  caller: Bytes! # address
  supplyShare: BigInt! # uint256
  blockNumber: BigInt!
  blockTimestamp: BigInt!
  transactionHash: Bytes!
}

type Supply @entity(immutable: true) {
  id: Bytes!
  lendingPool: Bytes! # address
  caller: Bytes! # address
  supplyShare: BigInt! # uint256
  blockNumber: BigInt!
  blockTimestamp: BigInt!
  transactionHash: Bytes!
}

type Withdraw @entity(immutable: true) {
  id: Bytes!
  lendingPool: Bytes! # address
  caller: Bytes! # address
  supplyShare: BigInt! # uint256
  blockNumber: BigInt!
  blockTimestamp: BigInt!
  transactionHash: Bytes!
}

type AccrueInterest @entity(immutable: true) {
  id: Bytes!
  lendingPool: Bytes! # address
  prevBorrowRate: BigInt! # uint256
  interest: BigInt! # uint256
  blockNumber: BigInt!
  blockTimestamp: BigInt!
  transactionHash: Bytes!
}

type BorrowByPosition @entity(immutable: true) {
  id: Bytes!
  lendingPool: Bytes! # address
  caller: Bytes! # address
  onBehalf: Bytes! # address
  position: Position!
  blockNumber: BigInt!
  blockTimestamp: BigInt!
  transactionHash: Bytes!
}

type RepayByPosition @entity(immutable: true) {
  id: Bytes!
  lendingPool: Bytes! # address
  caller: Bytes! # address
  onBehalf: Bytes! # address
  position: Position!
  blockNumber: BigInt!
  blockTimestamp: BigInt!
  transactionHash: Bytes!
}

type SupplyCollateralByPosition @entity(immutable: true) {
  id: Bytes!
  lendingPool: Bytes! # address
  caller: Bytes! # address
  onBehalf: Bytes! # address
  position: Position!
  blockNumber: BigInt!
  blockTimestamp: BigInt!
  transactionHash: Bytes!
}

type WithdrawCollateralByPosition @entity(immutable: true) {
  id: Bytes!
  lendingPool: Bytes! # address
  caller: Bytes! # address
  onBehalf: Bytes! # address
  position: Position!
  blockNumber: BigInt!
  blockTimestamp: BigInt!
  transactionHash: Bytes!
}

type PositionCreated @entity {
  id: ID!
  positionAddress: Bytes!
  lendingPool: Bytes!
  baseCollateral: BigInt!
  leverage: Int!
  blockNumber: BigInt!
  blockTimestamp: BigInt!
  transactionHash: Bytes!
}

type Borrow @entity {
  id: ID! # This is a string
  lendingPool: Bytes!
  caller: Bytes!
  onBehalf: Bytes!
  baseCollateral: BigInt!
  effectiveCollateral: BigInt!
  borrowShares: BigInt!
  leverage: Int!
  liquidationPrice: Int!
  health: Int!
  ltv: Int!
  blockNumber: BigInt!
  blockTimestamp: BigInt!
  transactionHash: Bytes!
}

type SupplyCollateral @entity {
  id: ID! # This is a string
  lendingPool: Bytes!
  caller: Bytes!
  onBehalf: Bytes!
  baseCollateral: BigInt!
  effectiveCollateral: BigInt!
  borrowShares: BigInt!
  leverage: Int!
  liquidationPrice: Int!
  health: Int!
  ltv: Int!
  blockNumber: BigInt!
  blockTimestamp: BigInt!
  transactionHash: Bytes!
}

type UserPosition @entity {
  id: ID! # This is a string
  lendingPool: Bytes!
  caller: Bytes!
  onBehalf: Bytes!
  baseCollateral: BigInt!
  effectiveCollateral: BigInt!
  borrowShares: BigInt!
  leverage: Int!
  liquidationPrice: BigInt!
  health: BigInt!
  ltv: BigInt!
  blockNumber: BigInt!
  blockTimestamp: BigInt!
  transactionHash: Bytes!
}

type WithdrawCollateral @entity {
  id: ID! # This is a string
  lendingPool: Bytes!
  caller: Bytes!
  onBehalf: Bytes!
  baseCollateral: BigInt!
  effectiveCollateral: BigInt!
  borrowShares: BigInt!
  leverage: Int!
  liquidationPrice: Int!
  health: Int!
  ltv: Int!
  blockNumber: BigInt!
  blockTimestamp: BigInt!
  transactionHash: Bytes!
}

type Position @entity {
  id: ID! # This is a string
  lendingPool: Bytes!
  caller: Bytes!
  onBehalf: Bytes!
  baseCollateral: BigInt!
  effectiveCollateral: BigInt!
  borrowShares: BigInt!
  leverage: Int!
  liquidationPrice: BigInt!
  health: BigInt!
  ltv: BigInt!
  blockNumber: BigInt!
  blockTimestamp: BigInt!
  transactionHash: Bytes!
}